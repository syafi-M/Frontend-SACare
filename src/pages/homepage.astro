---
// src/pages/homepage.astro
import PopularChoiceList from "../components/PopularChoiceList.astro";
import Layout from "../layouts/Layout.astro";

// Data dummy untuk mempermudah maintenance
const services = [
    { name: 'Cleaning', icon: 'i-ph-broom-bold', color: 'bg-blue-50 text-blue-600' },
    { name: 'AC Repair', icon: 'i-ph-wind-bold', color: 'bg-cyan-50 text-cyan-600' },
    { name: 'Plumbing', icon: 'i-ph-pipe-wrench-bold', color: 'bg-orange-50 text-orange-600' },
    { name: 'Electric', icon: 'i-ph-plug-bold', color: 'bg-yellow-50 text-yellow-600' },
];
---

<Layout>
    <main p-6 pb-32 max-w-2xl mx-auto>
        <!-- Hero Section -->
        <div relative p-8 rounded-3xl shadow-xl bg-neutral-900 overflow-hidden group>
            <div absolute -right-4 -top-4 h-32 w-32 bg-yellow-400 opacity-20 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700 />
            
            <div relative z-10 top-0>
                <span text="yellow-400 [9px]" font-black uppercase tracking-widest bg="yellow-400/10" px-2 py-1 rounded-md>Promo Minggu Ini</span>
                <h2 text="3xl white" font-black mt-4 leading-tight drop-shadow="white/50 sm">
                    Modern Home <br/> Solutions.
                </h2>
                <p text="neutral-400 sm" mt-2 mb-6 font-medium>Simplify your lifestyle with SACare.</p>
                <a href="/layanan" bg-yellow-400 hover:bg-yellow-500 text-neutral-900 px-6 py-3 rounded-2xl font-bold text-xs transition-all active:scale-95 inline-block>
                    Explore Now
                </a>
            </div>
        </div>

        <!-- Categories -->
        <section mt-10>
            <div flex="~ justify-between items-end" mb-6 px-1>
                <div>
                    <h3 text="xl neutral-900" font-black italic tracking-tight>Our Services</h3>
                    <p text="xs neutral-400" font-bold>Kategori Layanan</p>
                </div>
                <a href="/layanan" text="[10px] neutral-400 hover:neutral-900" font-black tracking-tighter transition-colors uppercase>View All</a>
            </div>

            <div grid="~ cols-4" gap-2>
                {services.map((s) => (
                    <a href={`/layanan?category=${s.name.toLowerCase()}`} flex="~ col items-center" class="group">
                        <div 
                            w-15 h-15 rounded-2xl flex="~ items-center justify-center" 
                            transition="all duration-300" border="~ transparent"
                            class={`${s.color} group-hover:shadow-lg group-hover:-translate-y-1 group-hover:border-current/20`}
                        >
                            <div class={`${s.icon} text-2xl`}></div>
                        </div>
                        <span text="[10px] neutral-500 group-hover:neutral-900" mt-3 font-bold uppercase tracking-tighter transition-colors>
                            {s.name}
                        </span>
                    </a>
                ))}
            </div>
        </section>

        <!-- Popular List -->
        <section mt-12>
            <div flex="~ justify-between items-center" mb-6 px-1>
                <h3 text="xl neutral-900" font-black italic tracking-tight>Popular Choice</h3>
                <div flex="~ items-center gap-1.5" px-3 py-1 bg-green-50 rounded-full border="~ green-100">
                    <div w-1.5 h-1.5 bg-green-500 rounded-full class="animate-pulse"></div>
                    <span text="[9px] green-700" font-black uppercase>Top Rated</span>
                </div>
            </div>

            <PopularChoiceList server:defer>
                <div slot="fallback" space-y-4>
                    {[1, 2, 3].map(() => (
                        <div bg-neutral-50 p-5 rounded-3xl border="~ neutral-100" flex="~ items-center gap-5" class="animate-pulse">
                            <div w-24 h-24 bg-neutral-200 rounded-2xl shrink-0></div>
                            <div flex-grow space-y-3>
                                <div h-4 bg-neutral-200 rounded w-1/2></div>
                                <div h-3 bg-neutral-200 rounded w-full></div>
                                <div flex="~ justify-between" mt-4>
                                    <div h-6 bg-neutral-200 rounded w-1/4></div>
                                    <div w-10 h-10 bg-neutral-200 rounded-xl></div>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            </PopularChoiceList>
        </section>
    </main>
</Layout>